<section class="py-16 bg-white max-w-[1400px] mx-auto px-4 2xl:px-0 w-full">
    <div class="w-full">
        <h2 class="text-3xl font-bold text-center mb-12">Nuestro proceso de trabajo <br> para el control de plagas</h2>
        
        <div class="flex flex-col md:flex-row items-center justify-between gap-4 md:gap-8 w-full">
            <!-- Paso 1 -->
            <div class="process-step group relative w-full md:w-auto opacity-0 animate-fade-in-up-process" style="animation-delay: 0.1s;">
                <div class="absolute inset-0 bg-gradient-to-r from-green-400 to-emerald-400 rounded-xl blur-xl opacity-0 group-hover:opacity-50 transition-opacity duration-300"></div>
                <div class="relative p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-200 h-full flex flex-col">
                    <div class="text-center flex-1 flex flex-col justify-between">
                        <div>
                            <div class="w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300">
                                <span class="text-2xl font-bold text-white">1</span>
                            </div>
                            <h3 class="font-semibold text-lg mb-4 text-gray-800 min-h-[3rem] flex items-center justify-center">Contacto y agenda de la visita</h3>
                        </div>
                        <a 
                            href="/contact" 
                            class="inline-block bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-2 rounded-lg font-semibold hover:from-green-700 hover:to-emerald-700 transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg text-sm mt-auto"
                        >
                            Contactar Ahora
                        </a>
                    </div>
                </div>
            </div>

            <!-- Flecha 1 (visible solo en desktop) -->
            <div class="hidden md:flex items-center justify-center process-arrow opacity-0 animate-fade-in-arrow flex-shrink-0" style="animation-delay: 0.3s;">
                <svg class="w-16 h-16 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" class="animate-slide-right"></path>
                </svg>
            </div>
        
            <!-- Paso 2 -->
            <div class="process-step group relative w-full md:w-auto opacity-0 animate-fade-in-up-process" style="animation-delay: 0.25s;">
                <div class="absolute inset-0 bg-gradient-to-r from-blue-400 to-indigo-400 rounded-xl blur-xl opacity-0 group-hover:opacity-50 transition-opacity duration-300"></div>
                <div class="relative p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-200 h-full flex flex-col">
                    <div class="text-center flex-1 flex flex-col justify-between">
                        <div>
                            <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300">
                                <span class="text-2xl font-bold text-white">2</span>
                            </div>
                            <h3 class="font-semibold text-lg mb-4 text-gray-800 min-h-[3rem] flex items-center justify-center">Visita de inspección</h3>
                        </div>
                        <div class="h-[2.625rem] flex items-end"></div>
                    </div>
                </div>
            </div>

            <!-- Flecha 2 (visible solo en desktop) -->
            <div class="hidden md:flex items-center justify-center process-arrow opacity-0 animate-fade-in-arrow flex-shrink-0" style="animation-delay: 0.35s;">
                <svg class="w-16 h-16 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" class="animate-slide-right"></path>
                </svg>
            </div>
    
            <!-- Paso 3 -->
            <div class="process-step group relative w-full md:w-auto opacity-0 animate-fade-in-up-process" style="animation-delay: 0.4s;">
                <div class="absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 rounded-xl blur-xl opacity-0 group-hover:opacity-50 transition-opacity duration-300"></div>
                <div class="relative p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-200 h-full flex flex-col">
                    <div class="text-center flex-1 flex flex-col justify-between">
                        <div>
                            <div class="w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300">
                                <span class="text-2xl font-bold text-white">3</span>
                            </div>
                            <h3 class="font-semibold text-lg mb-4 text-gray-800 min-h-[3rem] flex items-center justify-center">Aplicación / Tratamiento</h3>
                        </div>
                        <div class="h-[2.625rem] flex items-end"></div>
                    </div>
                </div>
            </div>

            <!-- Flecha 3 (visible solo en desktop) -->
            <div class="hidden md:flex items-center justify-center process-arrow opacity-0 animate-fade-in-arrow flex-shrink-0" style="animation-delay: 0.5s;">
                <svg class="w-16 h-16 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" class="animate-slide-right"></path>
                </svg>
            </div>

            <!-- Paso 4 -->
            <div class="process-step group relative w-full md:w-auto opacity-0 animate-fade-in-up-process" style="animation-delay: 0.55s;">
                <div class="absolute inset-0 bg-gradient-to-r from-emerald-400 to-teal-400 rounded-xl blur-xl opacity-0 group-hover:opacity-50 transition-opacity duration-300"></div>
                <div class="relative p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-200 h-full flex flex-col">
                    <div class="text-center flex-1 flex flex-col justify-between">
                        <div>
                            <div class="w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg group-hover:scale-110 transition-transform duration-300">
                                <span class="text-2xl font-bold text-white">4</span>
                            </div>
                            <h3 class="font-semibold text-lg mb-4 text-gray-800 min-h-[3rem] flex items-center justify-center">Informe de seguimiento</h3>
                        </div>
                        <div class="h-[2.625rem] flex items-end"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    @keyframes fade-in-up-process {
        from {
            opacity: 0;
            transform: translateY(30px) scale(0.95);
        }
        to {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
    }

    @keyframes fade-in-arrow {
        from {
            opacity: 0;
            transform: translateX(-10px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    @keyframes slide-right {
        0%, 100% {
            transform: translateX(0);
        }
        50% {
            transform: translateX(2px);
        }
    }

    .animate-fade-in-up-process {
        animation: fade-in-up-process 0.6s ease-out forwards;
    }

    .animate-fade-in-arrow {
        animation: fade-in-arrow 0.6s ease-out forwards;
    }

    .animate-slide-right {
        animation: slide-right 3s ease-in-out infinite;
    }

    /* Asegurar que las tarjetas tengan un ancho y alto consistente en desktop */
    @media (min-width: 768px) {
        .process-step {
            flex: 1;
            max-width: none;
            min-height: 280px;
        }
    }
</style>

<script>
    // Inicializar animaciones cuando los elementos entren en el viewport
    function initProcessAnimations() {
        const processSteps = document.querySelectorAll('.process-step');
        const processArrows = document.querySelectorAll('.process-arrow');
        
        const observerOptions = {
            threshold: 0.2,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const element = entry.target as HTMLElement;
                    element.style.opacity = '1';
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);
        
        processSteps.forEach(step => {
            observer.observe(step);
        });

        // Animar flechas también
        processArrows.forEach(arrow => {
            observer.observe(arrow as HTMLElement);
        });
    }
    
    // Inicializar cuando el DOM esté listo
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initProcessAnimations);
    } else {
        initProcessAnimations();
    }
</script>